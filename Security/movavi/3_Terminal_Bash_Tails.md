
### Установка и объяснение VSCodium для Kali Linux (zsh)

#### Установка VSCodium

1. Добавляем ключ GPG и репозиторий VSCodium:

   ```bash
   wget -qO - https://packages.vscodium.com/keys/vscodium.asc | sudo apt-key add -
   echo 'deb [signed-by=/usr/share/keyrings/vscodium-archive-keyring.gpg] https://packages.vscodium.com/debs/ vscodium main' | sudo tee /etc/apt/sources.list.d/vscodium.list
   ```

2. Обновляем список пакетов и устанавливаем VSCodium:

   ```bash
   sudo apt update
   sudo apt install codium
   ```

#### Объяснение:

VSCodium — это текстовый редактор, который может быть использован для программирования, редактирования конфигураций и файлов. Он удобен, имеет множество расширений и полностью свободен от телеметрии, что повышает конфиденциальность.

---

### Установка Obsidian для Kali Linux (zsh)

#### Установка Obsidian

1. Загружаем .deb файл с официального сайта Obsidian:  
   [https://obsidian.md/](https://obsidian.md/).

2. Устанавливаем его через терминал:

   ```bash
   sudo dpkg -i путь_к_файлу/obsidian.deb
   sudo apt --fix-broken install
   ```

#### Объяснение:

Obsidian — это инструмент для ведения заметок с мощными возможностями работы с Markdown и межсвязями заметок. Он удобен для построения личной базы знаний, анализа информации и хранения заметок.

---

### Установка zoxide и использование z как альтернативы cd для Kali Linux (zsh)

**Zoxide** — это быстрая и интеллектуальная замена команды `cd`, которая запоминает пути и предлагает автоматическую навигацию.

#### Установка zoxide

1. Устанавливаем через менеджер пакетов:

   ```bash
   sudo apt install zoxide
   ```

#### Настройка для zsh

1. Добавляем инициализацию zoxide в файл конфигурации `.zshrc`:

   ```bash
   eval "$(zoxide init zsh)"
   ```

2. Перезапускаем терминал или выполняем команду:

   ```bash
   source ~/.zshrc
   ```

#### Пример использования z как замены cd:

1. Для быстрого перехода в директорию используем команду:

   ```bash
   z project_folder
   ```

   Zoxide запомнит путь, даже если директория расположена глубоко в файловой системе, и перенаправит вас туда.

2. Можно искать директории по частичному совпадению:

   ```bash
   z proj
   ```

   Zoxide выберет наиболее подходящий путь.

3. Для возврата в предыдущую директорию:

   ```bash
   z -
   ```

Zoxide упрощает перемещение между часто используемыми директориями, ускоряя работу с терминалом.




Внесение своих **alias** (псевдонимов) позволяет ускорить работу, сократив длинные команды до простых и коротких ключевых слов. В оболочке **zsh** в Kali Linux можно легко настроить свои алиасы, добавив их в файл конфигурации `.zshrc`.

### Как создать свои alias:

1. Откройте файл конфигурации `.zshrc` для редактирования:

   ```bash
   nano ~/.zshrc
   ```

2. В конец файла добавьте алиасы. Пример для команд, которые вы указали:

   ```bash
   # Alias для запуска VSCodium
   alias codium='codium'

   # Alias для запуска Obsidian
   alias obsidian='obsidian'

   # Alias для проверки IP-адреса
   alias myip='curl ifconfig.me'

   # Alias для быстрого запуска Midnight Commander
   alias mc='mcedit'

   # Alias для быстрого обновления и обновления системы
   alias update='sudo apt update && sudo apt upgrade -y'

   # Alias для очистки кэша APT
   alias clean='sudo apt autoremove && sudo apt autoclean'

   # Alias для быстрого изменения каталога
   alias docs='cd ~/Documents'

   # Alias для копирования файлов с подтверждением
   alias cp='cp -i'
   ```

3. Сохраните изменения и перезагрузите конфигурацию оболочки, чтобы новые alias начали работать:

   ```bash
   source ~/.zshrc
   ```

### Полезные alias для продуктивности:

- **Alias для редактирования конфигурации zsh**:

  ```bash
  alias zshconfig='nano ~/.zshrc'
  ```

- **Alias для очистки экрана**:

  ```bash
  alias cls='clear'
  ```

- **Alias для быстрого поиска в журнале команд**:

  ```bash
  alias hist='history | grep'
  ```

- **Alias для просмотра процессов, потребляющих больше всего ресурсов**:

  ```bash
  alias topcpu='ps aux --sort=-%cpu | head -10'
  ```

### Как посмотреть уже существующие alias:

Чтобы посмотреть текущие alias, установленные в системе, выполните следующую команду в терминале:

```bash
alias
```

Этот список покажет все alias, которые были настроены в вашем окружении. Вы можете обновить этот список в любое время, изменяя файл `.zshrc`.

### Пример использования alias:

Теперь вместо длинной команды для запуска VSCodium:

```bash
codium .
```

Вы можете просто ввести:

```bash
codium
```

Или, чтобы узнать свой IP, достаточно набрать:

```bash
myip
```

Использование alias значительно ускоряет выполнение повторяющихся задач в терминале.



### Что такое символьные ссылки в Linux

**Символьные ссылки** (или **symbolic links**, иногда их называют **symlinks**) — это своего рода "ярлыки", которые указывают на файл или каталог. Это не копия файла, а указатель на его реальное местоположение. Символьные ссылки полезны, когда вам нужно обращаться к файлу или папке из нескольких мест, не дублируя их содержимое.

#### Пример создания символьной ссылки:

1. Создать символическую ссылку на файл:

   ```bash
   ln -s /путь/к/файлу /путь/где/создать/ссылку
   ```

   Например:

   ```bash
   ln -s /usr/bin/python3 /home/user/python-link
   ```

   Теперь при обращении к `/home/user/python-link` вы будете автоматически перенаправлены к `/usr/bin/python3`.

2. Создать символическую ссылку на каталог:

   ```bash
   ln -s /путь/к/каталогу /путь/где/создать/ссылку
   ```

   Пример:

   ```bash
   ln -s /var/www/html /home/user/www-link
   ```

   Теперь при обращении к `/home/user/www-link` вы попадете в `/var/www/html`.

#### Просмотр символьных ссылок:

Для того чтобы увидеть символьные ссылки в директории, используйте команду `ls` с опцией `-l`:

```bash
ls -l
```

В выводе символическая ссылка будет отображаться с символом `l` (например, `lrwxrwxrwx`), и будет указано, куда она ведет.

---

### Как сделать файл исполняемым

В Linux файлы имеют разные разрешения, и для того, чтобы файл можно было запустить как программу, ему нужно дать **разрешение на исполнение**.

#### Пример как сделать файл исполняемым:

1. Предположим, у вас есть скрипт `myscript.sh`, который вы хотите сделать исполняемым. Для этого выполните команду:

   ```bash
   chmod +x myscript.sh
   ```

   Здесь `+x` добавляет разрешение на выполнение (execute) для текущего пользователя, группы и остальных пользователей.

2. Теперь вы можете запустить файл:

   ```bash
   ./myscript.sh
   ```

#### Другие примеры `chmod`:

- Чтобы сделать файл исполняемым только для владельца:

  ```bash
  chmod u+x myscript.sh
  ```

- Чтобы дать выполнение только группе:

  ```bash
  chmod g+x myscript.sh
  ```

- Чтобы удалить разрешение на выполнение для всех:

  ```bash
  chmod -x myscript.sh
  ```

---

### Как проверить, установлен ли Python

Для проверки, установлен ли Python на вашей системе, можно воспользоваться следующими командами:

1. Проверка наличия Python версии 3.x:

   ```bash
   python3 --version
   ```

2. Проверка наличия Python версии 2.x:

   ```bash
   python --version
   ```

Если Python установлен, вы увидите версию, например:

```bash
Python 3.9.2
```

Если Python не установлен, вы получите сообщение об ошибке: `command not found`.

#### Установка Python (если не установлен)

1. Для установки Python в Kali Linux выполните:

   ```bash
   sudo apt update
   sudo apt install python3
   ```

2. Чтобы установить `pip` (менеджер пакетов Python):

   ```bash
   sudo apt install python3-pip
   ```

---

### Полезные примеры

#### 1. Символьные ссылки для упрощения работы:

Представьте, что у вас есть директория с большими проектами, и вы хотите быстро к ней обращаться через домашний каталог. Создайте символьную ссылку:

```bash
ln -s /var/www/myproject ~/myproject-link
```

Теперь вы можете переходить в проект через:

```bash
cd ~/myproject-link
```

#### 2. Удобный исполняемый скрипт:

Создайте файл `backup.sh` с содержимым:

```bash
#!/bin/bash
tar -czf /backup/backup.tar.gz /var/www/html
```

Сделайте его исполняемым:

```bash
chmod +x backup.sh
```

Теперь вы можете запускать его так:

```bash
./backup.sh
```

#### 3. Проверка установленного Python с alias:

Добавьте в `.zshrc` alias для удобства:

```bash
alias pycheck='python3 --version'
```

Теперь для проверки версии Python достаточно выполнить:

```bash
pycheck
```

---

Эти примеры помогут вам быстрее и удобнее работать с системой, настройкой прав и символических ссылок в Kali Linux на оболочке zsh.



В Linux-системах, таких как Kali Linux, основная конфигурация системы хранится в каталоге `/etc/`. Этот каталог содержит множество файлов и подкаталогов, отвечающих за разные аспекты работы системы: сеть, загрузку, пользователей, доступ к ресурсам и т.д.

### Основные файлы настроек в Linux

1. **/etc/passwd** — файл, который содержит информацию о пользователях системы (логины, идентификаторы, домашние каталоги и т.д.).
2. **/etc/shadow** — хранит пароли пользователей в зашифрованном виде.
3. **/etc/hostname** — хранит имя компьютера в сети.
4. **/etc/hosts** — файл для ручного сопоставления IP-адресов и доменных имен.
5. **/etc/resolv.conf** — файл настроек DNS, где указываются серверы для разрешения доменных имен в IP-адреса.
6. **/etc/fstab** — файл для автоматического монтирования файловых систем при загрузке.
7. **/etc/apt/sources.list** — файл, где указаны репозитории для установки и обновления программ через APT.

---

### Как заблокировать сайт через `/etc/hosts`

Файл `/etc/hosts` используется для сопоставления доменных имен с IP-адресами вручную, что позволяет заблокировать доступ к сайтам или назначить короткие имена для длинных доменов.

#### Пример блокировки сайта

1. Откройте файл `/etc/hosts` для редактирования:

   ```bash
   sudo nano /etc/hosts
   ```

2. Добавьте в конец файла следующую строку для блокировки сайта:

   ```bash
   127.0.0.1   example.com
   ```

   Это перенаправит запросы на сайт `example.com` на локальный IP-адрес `127.0.0.1`, effectively блокируя доступ к этому сайту.

3. Сохраните изменения и выйдите из редактора.

4. Теперь при попытке зайти на `example.com`, система не сможет подключиться к сайту.

#### Пример добавления короткого имени для длинного домена

1. Откройте файл `/etc/hosts`:

   ```bash
   sudo nano /etc/hosts
   ```

2. Добавьте строку для сопоставления короткого имени с длинным доменом:

   ```bash
   192.168.1.1   router
   ```

3. Теперь вместо ввода полного IP-адреса `192.168.1.1` вы можете просто использовать команду:

   ```bash
   ping router
   ```


---

### Другие полезные файлы настроек в каталоге `/etc/`

#### 1. **/etc/crontab** — планировщик задач (Cron)

Этот файл используется для автоматического выполнения команд или скриптов в определенное время. Вы можете добавлять задания, которые будут выполняться регулярно.

Пример задачи, выполняющей скрипт каждый день в 2 часа ночи:

```bash
0 2 * * * root /path/to/backup.sh
```

#### 2. **/etc/network/interfaces** — настройки сети

Этот файл используется для конфигурации сетевых интерфейсов. Если вы настраиваете сеть вручную (без NetworkManager), можно добавить параметры для подключения к сети.

Пример конфигурации статического IP-адреса для интерфейса `eth0`:

```bash
auto eth0
iface eth0 inet static
    address 192.168.1.100
    netmask 255.255.255.0
    gateway 192.168.1.1
```

#### 3. **/etc/ssh/sshd_config** — настройки SSH-сервера

Этот файл управляет настройками SSH-сервера (безопасного удаленного доступа). Здесь можно изменить порт по умолчанию (22), запретить доступ по паролю и разрешить только авторизацию по ключу.

Пример изменения порта SSH:

```bash
Port 2222
PermitRootLogin no
```

После изменения настроек нужно перезапустить службу SSH:

```bash
sudo systemctl restart ssh
```

#### 4. **/etc/apt/sources.list** — список репозиториев

Этот файл управляет источниками пакетов для системы. Можно добавить, удалить или изменить репозитории.

Пример добавления нового репозитория:

```bash
deb http://ftp.debian.org/debian buster main contrib non-free
```

После внесения изменений обновите список пакетов:

```bash
sudo apt update
```

#### 5. **/etc/default/grub** — настройки загрузчика GRUB

Этот файл управляет параметрами загрузки системы. Вы можете настроить время показа меню загрузки, выбрать операционную систему по умолчанию и добавить дополнительные параметры для ядра.

Пример изменения времени показа меню загрузчика на 5 секунд:

```bash
GRUB_TIMEOUT=5
```

После изменений выполните команду для обновления конфигурации GRUB:

```bash
sudo update-grub
```

---

### Зачем нужна команда `id`

Команда `id` в Linux выводит информацию о пользователе и его группах. Она показывает уникальные идентификаторы (UID и GID), к каким группам принадлежит пользователь, и другие важные данные для контроля доступа.

#### Пример использования команды `id`:

1. Посмотреть информацию о текущем пользователе:

   ```bash
   id
   ```

   Вывод может выглядеть так:

   ```bash
   uid=1000(user) gid=1000(user) groups=1000(user),27(sudo),1001(docker)
   ```

   - **uid** — идентификатор пользователя (User ID).
   - **gid** — идентификатор основной группы (Group ID).
   - **groups** — все группы, к которым принадлежит пользователь.

2. Чтобы получить информацию о другом пользователе:

   ```bash
   id имя_пользователя
   ```

   Пример:

   ```bash
   id root
   ```

   Это покажет UID, GID и группы для пользователя `root`.

#### Основные выводы команды `id`:
- Позволяет быстро узнать текущие права и группы, к которым принадлежит пользователь.
- Полезно при настройке доступа к файлам, директориям и службам.

---

### Как работают пользователи в Kali Linux

В Kali Linux (как и в других дистрибутивах Linux) существуют два типа пользователей:

1. **Привилегированные пользователи** (например, **root**).
2. **Обычные пользователи**, у которых ограничены права для выполнения задач, требующих администраторских привилегий.

#### Стандартная модель:

- **root** — это суперпользователь с неограниченными правами. Он может делать всё: изменять системные файлы, управлять пользователями, устанавливать и удалять программы.
- **Обычные пользователи** имеют ограниченные права и могут работать только с теми файлами и процессами, которые им принадлежат.

#### Особенности в Kali Linux:
Ранее в Kali Linux был обычный вход в систему под суперпользователем **root** по умолчанию, но в последних версиях по умолчанию создается **обычный пользователь**, который может использовать команды `sudo` для временного получения прав администратора.

---

### Зачем нужны команды `su` и `sudo`

#### Команда `su`

Команда **`su`** (от "substitute user" — замена пользователя) позволяет переключиться на другого пользователя, включая суперпользователя **root**, с возможностью работы от его имени.

#### Примеры использования:

1. Переключение на пользователя `root`:

   ```bash
   su
   ```

   После выполнения этой команды система попросит ввести пароль пользователя `root`. После успешного ввода вы получите полные права **root**.

2. Переключение на другого пользователя:

   ```bash
   su имя_пользователя
   ```

   Например:

   ```bash
   su john
   ```

   Это переключит вас на пользователя `john` (после ввода его пароля).

3. Переключение на `root` с начальной оболочкой пользователя:

   ```bash
   su - 
   ```

   Это запускает оболочку `root` с полным окружением, что полезно для работы в режиме суперпользователя.

#### Когда использовать `su`:
- Если вам нужно временно полностью переключиться на другого пользователя и действовать от его имени, особенно если требуется доступ к административным операциям.

#### Команда `sudo`

Команда **`sudo`** (от "superuser do" — выполнить как суперпользователь) позволяет временно выполнять команды с правами суперпользователя (или другого пользователя), не переключаясь полностью в его сессию. Это удобнее и безопаснее, чем полное переключение на `root`.

#### Примеры использования:

1. Выполнение команды с правами суперпользователя:

   ```bash
   sudo apt update
   ```

   В этом случае вы временно получаете права **root** для выполнения команды обновления пакетов.

2. Выполнение команды от имени другого пользователя (например, `john`):

   ```bash
   sudo -u john ls /home/john
   ```

   Эта команда выполнит просмотр содержимого директории `/home/john` от имени пользователя `john`.

3. Вход в сессию **root** через `sudo`:

   ```bash
   sudo -i
   ```

   Это откроет оболочку **root**, но через временные права, предоставленные пользователю через `sudo`.

#### Когда использовать `sudo`:
- **`sudo`** предпочтительнее использовать вместо полного переключения на `root` через `su`. Оно позволяет выполнять команды с правами администратора только тогда, когда это действительно нужно.
- **`sudo`** можно настроить для конкретных пользователей через файл `/etc/sudoers`, давая доступ к определённым командам или функциям без полного доступа ко всем правам суперпользователя.

---

### Отличие `su` от `sudo`

1. **`su`** полностью переключает вас на другого пользователя (обычно на `root`), и все команды выполняются от его имени до тех пор, пока вы не вернетесь обратно.
2. **`sudo`** используется для выполнения одной команды с правами суперпользователя без полного переключения. После выполнения команды права пользователя возвращаются к обычным.

### Пример использования команд:

1. Если вы хотите обновить систему:

   ```bash
   sudo apt update
   ```

   Здесь вы временно получите права **root** только для выполнения этой команды.

2. Если вам нужно долгое время работать от имени **root**, лучше переключиться через `su`:

   ```bash
   su -
   ```

   После чего вы работаете как **root** до тех пор, пока не выйдете из сессии с помощью `exit`.

---

### Резюме

- **Команда `id`** показывает информацию о пользователе и его группах.
- **Пользователи в Kali Linux** делятся на привилегированных (root) и обычных. Система настроена на безопасное использование с ограниченными правами.
- **Команда `su`** переключает вас на другого пользователя, в том числе на `root`, для долгой работы с его правами.
- **Команда `sudo`** позволяет выполнять команды с правами суперпользователя на временной основе, что делает её более безопасным и удобным способом управления системой.



В оболочке **zsh** (как и в других оболочках Linux) есть множество операторов и конструкций, которые позволяют управлять вводом и выводом, объединять команды, контролировать выполнение процессов и многое другое. Давайте рассмотрим основные конструкции, которые вы упомянули, и их примеры использования в **zsh** на примерах.

### Операторы ввода и вывода

#### `>` — перенаправление вывода в файл (перезапись)

Команда с оператором `>` перенаправляет стандартный вывод команды в файл, перезаписывая его содержимое.

Пример:

```bash
echo "Hello, World!" > output.txt
```

Это создаст (или перезапишет, если файл уже существует) файл `output.txt` с текстом "Hello, World!".

#### `>>` — перенаправление вывода в файл (добавление)

В отличие от `>`, оператор `>>` добавляет результат команды в конец файла, не перезаписывая его.

Пример:

```bash
echo "Another line" >> output.txt
```

Эта команда добавит строку "Another line" в конец файла `output.txt`.

#### `<` — перенаправление ввода из файла

Этот оператор перенаправляет содержимое файла как ввод для команды.

Пример:

```bash
wc -l < input.txt
```

Эта команда подсчитает количество строк в файле `input.txt`, передав его содержимое в команду `wc -l`.

#### `<<` — ввод через "here document"

Оператор `<<` используется для ввода данных прямо в командной строке до определенного маркера.

Пример:

```bash
cat << EOF
Это строка 1
Это строка 2
EOF
```

Этот код выведет строки между `<< EOF` и `EOF`. Это полезно для многострочного ввода.

---

### Операторы для управления процессами

#### `&` — запуск команды в фоновом режиме

Оператор `&` позволяет запустить команду в фоновом режиме, чтобы продолжить работу в текущей сессии.

Пример:

```bash
sleep 10 &
```

Команда `sleep 10` выполнится в фоне, а вы сможете продолжить вводить команды в терминале.

#### `&&` — выполнение команды, если предыдущая завершилась успешно

Оператор `&&` используется для последовательного выполнения команд. Вторая команда выполнится только если первая завершилась с успехом (код возврата 0).

Пример:

```bash
mkdir test && cd test
```

Эта последовательность сначала создаст каталог `test`, а затем перейдет в него только если создание прошло успешно.

#### `||` — выполнение команды, если предыдущая завершилась с ошибкой

В отличие от `&&`, оператор `||` выполняет следующую команду, если первая завершилась с ошибкой.

Пример:

```bash
mkdir test || echo "Не удалось создать каталог"
```

Если создание каталога `test` не удастся, выведется сообщение "Не удалось создать каталог".

#### `|` — пайп (передача вывода одной команды на ввод другой)

Оператор `|` позволяет передавать вывод одной команды на вход другой. Это называется "пайпом" (pipe).

Пример:

```bash
ls | grep "file"
```

Эта команда выведет список файлов в текущем каталоге и передаст его на вход команде `grep`, которая отфильтрует только те строки, которые содержат слово "file".

---

### Работа с процессами

#### `disown %1` — отсоединение процесса от терминала

Если вы запустили процесс в фоне (с помощью `&`) и хотите продолжить его выполнение даже после закрытия терминала, используйте команду `disown`.

Пример:

1. Запускаем процесс в фоне:

   ```bash
   sleep 100 &
   ```

2. Отсоединяем процесс от текущего терминала:

   ```bash
   disown %1
   ```

Теперь процесс `sleep` продолжит выполняться даже после закрытия терминала.

#### `jobs` — просмотр фоновых задач

Эта команда показывает список фоновых задач, которые были запущены с `&` или приостановлены с помощью `Ctrl+Z`.

Пример:

```bash
jobs
```

#### `fg` — возврат процесса в передний план

Команда `fg` возвращает фоновую задачу в передний план.

Пример:

```bash
fg %1
```

Эта команда вернет фоновый процесс с идентификатором `1` в передний план.

---

### Комбинированные конструкции

#### Последовательное выполнение команд

Можно комбинировать операторы для выполнения последовательных действий:

Пример:

```bash
mkdir project && cd project && touch file.txt && echo "Text" > file.txt
```

Эта последовательность команд создаст каталог `project`, перейдет в него, создаст файл `file.txt` и запишет туда строку "Text".

#### Пример с `||` и `&&`:

```bash
mkdir test && echo "Каталог создан" || echo "Ошибка создания каталога"
```

Здесь, если каталог создается успешно, выводится сообщение "Каталог создан". Если нет — "Ошибка создания каталога".

---

### Другие полезные операторы

#### `;` — выполнение нескольких команд подряд

Оператор `;` позволяет выполнить несколько команд последовательно, независимо от их успешности.

Пример:

```bash
echo "Первая команда"; echo "Вторая команда"; echo "Третья команда"
```

Эти команды выполнятся одна за другой, даже если одна из них завершится ошибкой.

#### `>` и `2>` — перенаправление вывода и ошибок

- Оператор `>` перенаправляет стандартный вывод команды.
- Оператор `2>` перенаправляет вывод ошибок.

Пример:

```bash
ls /nonexistent_dir > output.txt 2> error.log
```

Здесь стандартный вывод команды будет записан в `output.txt`, а ошибки — в `error.log`.

#### `&>` — перенаправление вывода и ошибок в один файл

Пример:

```bash
ls /nonexistent_dir &> all_output.log
```

Эта команда запишет как стандартный вывод, так и ошибки в один файл `all_output.log`.

---

### Пример комплексного использования:

```bash
cat file.txt | grep "pattern" && echo "Найдено" || echo "Не найдено"
```

1. `cat file.txt | grep "pattern"` — передаем содержимое файла `file.txt` в `grep`, который ищет строки с шаблоном "pattern".
2. `&& echo "Найдено"` — если строка найдена, выводим "Найдено".
3. `|| echo "Не найдено"` — если строка не найдена, выводим "Не найдено".

---

### Заключение

Эти конструкции и операторы — основа работы в командной строке **zsh**. Они позволяют эффективно управлять вводом/выводом, управлять процессами и выстраивать сложные цепочки команд.